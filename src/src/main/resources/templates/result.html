<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    lang="ko"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout/layout}"
>
    <head>
        <title>책마루 :: 결과</title>
    </head>

    <div id="result" class="content-wrap" layout:fragment="content">
        <script th:inline="javascript">
            /*<![CDATA[*/
            let result = [[${ result }]];
            let text = "";
            let href = "";

            switch (result) {
                case -1:
                    text = "오류가 발생했습니다.\n다시 시도해주세요."
                    window.history.back();
                    break;

                case 2:
                    text = "데이터베이스 연결 오류.\n다시 시도해주세요."
                    window.history.back();
                    break;

                // MemberController
                case 100:
                    text = "회원가입에 성공했습니다.\n북마루에 오신 걸 환영합니다.";
                    href = [[@{/member/login_form}]];
                    break;

                case 101:
                    text = "정보 수정에 성공했습니다.";
                    href = [[@{/member/modify_form}]];
                    break;

                case 102:
                    text = "로그아웃에 성공했습니다.";
                    window.history.back();
                    break;

                case 103:
                    text = "회원 탈퇴에 성공했습니다.\n안녕히 가세요.";
                    href = [[@{/}]];
                    break;

                case 104:
                    text = "아이디를 메일로 발송했습니다.\n메일을 확인해주세요.";
                    href = [[@{/member/login_form}]];
                    break;

                case 105:
                    text = "비밀번호 변경 링크를 메일로 발송했습니다.\n메일을 확인해주세요.";
                    href = [[@{/member/login_form}]];
                    break;

                case 106:
                    text = "비밀번호 변경을 완료했습니다.";
                    href = [[@{/member/login_form}]];
                    break;

                case 107:
                    text = "로그인에 성공했습니다.\n어서오세요.";
                    href = [[@{/}]];
                    break;

                case 110:
                    text = "회원가입에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 111:
                    text = "이미 존재하는 아이디입니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 112:
                    text = "정보 수정에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 113:
                    text = "사용자를 찾을 수 없습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 114:
                    text = "회원 탈퇴에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 115:
                    text = "아이디 찾기에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 116:
                    text = "비밀번호 찾기에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 117:
                    text = "비밀번호 변경에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 118:
                	text = "로그인에 실패했습니다.\n다시 시도해주세요.";
                	window.history.back();
                	break;
                	
                case 119:
                	text = "비밀번호 변경을 완료했습니다.";
                	href = [[@{/}]];
                	break;

                case 200:
                    text = "수량 변경에 성공했습니다.";
                    href = [[@{/mypage/member_cart_form}]];
                    break;

                case 201:
                    text = "장바구니에 추가되었습니다.";
                    href = [[@{/mypage/member_cart_form}]];
                    break;

                case 202:
                    text = "장바구니에서 삭제되었습니다.";
                    href = [[@{/mypage/member_cart_form}]];
                    break;

                case 203:
                    text = "결제 완료되었습니다.";
                    href = [[@{/mypage/payment_list_form}]];
                    break;

                case 204:
                    text = "(결제중) BP 결제 완료";
                    href = [[@{/mypage/point_list}]];
                    break;

                case 205:
                    text = "(결제중) 장바구니에서 제거 완료";
                    break;

                case 206:
                    text = "BP 충전이 완료되었습니다.";
                    href = [[@{/mypage/point_list}]];
                    break;
                    
                case 207:
                    text = "찜 목록 등록에 성공했습니다.";
                    href = [[@{/mypage/member_pick_form}]];
                    break;
                    
                case 208:
                    text = "주문 취소에 성공했습니다.";
                    href = [[@{/mypage/payment_list_form}]];
                    break;
                    
                case 209:
                    text = "반품 요청에 성공했습니다.";
                    href = [[@{/mypage/payment_list_form}]];
                    break;
                    
                case 210:
                    text = "주문 확정에 성공했습니다.";
                    href = [[@{/mypage/payment_list_form}]];
                    break;

                case 240:
                    text = "장바구니 수정에 실패했습니다.\n다시 시도해주세요.";
                    href = [[@{/mypage/member_cart_form}]];
                    break;

                case 241:
                    text = "장바구니 추가에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 242:
                    text = "장바구니 제거에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 243:
                    text = "결제에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 244:
                    text = "(결제중) BP 결제 실패";
                    break;

                case 245:
                    text = "(결제중) 장바구니 제거 실패";
                    break;

                case 246:
                    text = "BP 충전에 실패했습니다.\n다시 시도해주세요.";
                    href = [[@{/mypage/point_charge}]];
                    break;
                    
                case 247:
                    text = "찜 목록 등록에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                
                case 248:
                    text = "정지당한 계정입니다.\n관리자에게 문의하세요";
                    window.history.back();
                    break;
                    
                case 249:
                    text = "찜 목록에 이미 등록된 도서입니다.";
                    window.history.back();
                    break;
                    
                case 250:
                    text = "주문 취소에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 251:
                    text = "반품요청에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 252:
                    text = "주문확정에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 300:
                    text = "리뷰 작성에 성공했습니다.";
                    href = [[@{/book/view/{b_no}(b_no=${b_no})}]];
                    break;

                case 301:
                    text = "리뷰 수정에 성공했습니다.";
                    window.history.back();
                    break;

                case 302:
                    text = "리뷰 삭제에 성공했습니다.";
                    window.history.back();
                    break;

                case 310:
                    text = "리뷰 작성에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 311:
                    text = "리뷰 수정에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;

                case 312:
                    text = "리뷰 삭제에 실패했습니다.\n다시 시도해주세요.";
                    window.history.back();
                    break;
                    
                case 313:
                    text = "이미 리뷰를 작성하셨습니다.";
                    href = [[@{/book/view/{b_no}(b_no=${b_no})}]];
                    break;
                    
                case 800:
                    text = "고객문의 등록에 성공하였습니다.";
                    href = [[@{/qna/qna}]];
                    break;
                            
                case 802:
                    text = "고객문의 삭제에 성공하였습니다.";
                    href = [[@{/qna/qna}]];
                    break;
            
                case 810:
                    text = "고객문의 등록에 실패하였습니다.\n다시 시도해주세요.";
                    href = [[@{/qna/qna}]];
                    break;
                    
                case 812:
                    text = "고객문의 삭제에 실패하였습니다.\n다시 시도해주세요.";
                    href = [[@{/qna/qna}]];
                    break;
                    
                case 999:
                	text ="로그인이 필요한 서비스입니다.";
                	href = [[@{/member/login_form}]];
                    break;

                default:
                    text = "메인으로 이동합니다."
                    href = [[@{/}]];
                    break;
            }

            if (text != "") {
                alert(text);
            }

            if (href != "") {
                location.href = href;
            }
            /*]]>*/
        </script>
    </div>
</html>
